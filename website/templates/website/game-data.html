{% extends 'website/base.html' %}
{% block content %}

    <script     src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js">     </script>

    <br>
    <h5> Welcome to the Game Data Demo Page </h5>
    <hr>

    <table class="table table-dark table-hover table-bordered">
        <thead class="table-primary">
            <tr>
                <th scope="col"> ID </th>
                <th scope="col"> Name </th>
                <th scope="col"> Stars </th>
            </tr>
        </thead>   

        <tbody>
        {% if data %}
            {% for row in data %}
            <tr>
                <td> {{row.id}} </td>
                <td> {{row.character_name}}</td>
                <td> {{row.stars}} </td>
            </tr>
            {% endfor %}
        {% endif %}
        </tbody>
    </table>

    

    
<canvas id="myChart" style="width:100%;max-width:700px"></canvas>

<script>

  // function htmlDecode(str) {
  //     const doc = new DOMParser().parseFromString(str, "text/html");
  //     return doc.documentElement.textContent;
  // }

  //  var vals = "{{vals}}"
  //  var names = "{{chars}}"
  //  var names = htmlDecode(names)
  //  console.log(vals)
  //  vals = vals.replace('[','');
  //  vals = vals.replace(']','');
  //  vals = vals.replace(' ','');
  //  console.log(names)
  //  var values = vals.split(",");
  //  for (var i = 0; i < 4 ; i++){
  //   values[i] = parseInt(values[i])
  //   console.log(values[i])
  //  }
  //  console.log("Values:")
  //  console.log(values)
    // var data = JSON.parse("{{data}}");
    // console.log(data)
    
    const xValues = ["a","b","c","d"
    //to do
    ];
    const yValues = [5,2,3,0];
    
    
    new Chart("myChart", {
      type: "bar",
      data: {
        labels: xValues,
        datasets: [{
          backgroundColor: "red",
          data: yValues
        }]
      },
      options: {
        legend: {display: false},
        title: {
          display: true,
          text: "Demo"
        }
      }
    });
    </script>
    
{% endblock %}



